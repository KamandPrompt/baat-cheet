<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="keywords" content="Baat-cheet, Kamand Prompt, IIT Mandi, India">
  <meta name="author" content="Kamand Prompt-IIT Mandi">
  <meta name="description" content="Baat-Cheet is an anonymous chat application developed by IIT Mandi">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="rgb(2, 117, 216)">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-status-bar-style" content="rgb(2, 117, 216)">
  <title><%= title %></title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
  <link rel="stylesheet" href="/style.css">
  <link rel="stylesheet" href="/emojify.css">
</head>
<body>
  <div id="user" class="text-center align-items-center justify-content-center h-100 w-100 position-fixed text-white">
    <div class="d-flex">
      <div class="jumbotron p-auto m-5 border border-primary bg-transparent">
        <h1 class="position-relative display-1"><%= title %></h1>
        <input type="text" autocomplete="off" placeholder="What should we call you?" class="position-relative bg-transparent text-white text-center w-100 p-3 border-top-0 border-right-0 border-left-0 border-bottom" autofocus="true" id="userN"
          name="username">
        <p id="nicknameError" class="position-relative m-2"></p>
      </div>
    </div>
  </div>
  <div class="wrapper">
    <div class="app-container">
      <div id='toast-wrapper' class="toast-wrapper" aria-live="polite" aria-atomic="true"></div>
      <div class="left">
        <div class="form-group mb-0 px-3 pt-4">
          <input type="text" id="searchId" placeholder="Search..." class="searchtext form-control" />
          <hr class="mb-0" />
        </div>
        <!-- Overflow style div -->
        <div class="room-list">
          <div class="card-columns m-2" name="people">
            <div class="card active person" data-chat="lobby" id="lobby" onclick="showRoom(this)">
              <div class="card-body">
                <h5 class="card-title name">Lobby</h5>
                <p class="card-text preview">Central Lobby</p>
              </div>
            </div>
          </div>
          <div class="card m-2">
            <div class="card-body text-center" data-toggle="modal" data-target="#newRoomModal">
              <p class="card-text mb-0">
                <a class="text-primary icon" id="newRoom">
                  <i class="fas fa-plus-circle"></i>
                </a>
              </p>
              <p class="card-text text-primary">
                <small>Click to add new Room</small>
              </p>
            </div>
          </div>
          <button class="sidebar-btn btn btn-primary btn-group btn-lg" type="button" onclick="SidebarToggle()">
            <i id="toggle-icon" class="fa fa-angle-right"></i>
          </button>
        </div>
      </div>
      <div class="right active" id="lobby-msg" data-joined="1">
        <div class="top" data-chat="person1">
          <center id="online">
            <span>Lobby</span>
          </center>
          <center>
            <button class="btn btn-sm p-0" onclick="collap('lobby')">
              <span></span></button>
          </center>
        </div>
        <div class="Participants">
          <center>
            <h2>Participants</h2>
          </center>
          <span></span>
        </div>
        <div class="chat" data-chat="person1"></div>
        <div class="input-group write">
          <textarea type="text" class="textarea form-control" placeholder="Message to lobby..." data-active="lobby" rows="2"></textarea>
          <div class="input-group-append">
            <button class="btn smiley text-primary" type="button">
              <i class="far fa-smile icon"></i>
              <ul id="emobox" class="emobox"></ul>
            </button>
            <button class="btn send text-primary" type="button">
              <i class="fas fa-paper-plane icon"></i>
            </button>
          </div>
        </div>
      </div>
      <div class="error jumbotron text-center"></div>
    </div>
  </div>
  <div id="room">
    <div class="modal fade" id="newRoomModal" tabindex="-1" role="dialog" aria-labelledby="newRoomModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add your desired room</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form onsubmit="return false;">
              <div class="form-group">
                <label for="roomName">Room Name</label>
                <input type="text" name="roomName" class="form-control" id="roomName" placeholder="Your new room name" />
              </div>
              <div class="form-group">
                <label for="exampleFormControlTextarea1">Description</label>
                <textarea name="description" class="form-control" id="description" rows="3" placeholder="Description of your room"></textarea>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="submit" onclick="submitRoom()" class="btn btn-primary btn-lg btn-block" id="submit"> Add Room </button>
            <br>
          </div>
          <span id="roomError" class="ml-auto p-2"></span>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/date-fns/1.30.1/date_fns.min.js" integrity="sha512-F+u8eWHrfY8Xw9BLzZ8rG/0wIvs0y+JyRJrXjp3VjtFPylAEEGwKbua5Ip/oiVhaTDaDs4eU2Xtsxjs/9ag2bQ==" crossorigin="anonymous"></script>
  <script src='/utils.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/1.4.5/socket.io.js"></script>
  <script type="text/javascript" src="/emoji.json"></script>
  <script src='/script.js'></script>
  <script src="/client.js"></script>
</body>
</html>
